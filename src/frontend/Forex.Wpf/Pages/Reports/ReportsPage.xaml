<Page
    x:Class="Forex.Wpf.Pages.Reports.ReportsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:Forex.Wpf.Resources.UserControls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
    Title="Hisobotlar"
    d:DesignHeight="700"
    d:DesignWidth="1000"
    mc:Ignorable="d">

    <Grid Margin="16" Background="AliceBlue">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!--  🔙 Orqaga tugma  -->
        <Button
            x:Name="btnBack"
            Grid.Row="0"
            Margin="0,0,0,10"
            Padding="8,4"
            HorizontalAlignment="Right"
            VerticalAlignment="Top"
            md:ButtonAssist.CornerRadius="4"
            Background="{DynamicResource OtherBackground}"
            Click="BtnBack_Click"
            Content="🔙 Orqaga" />

        <!--  🧾 TabControl  -->
        <TabControl
            Grid.Row="1"
            Margin="0,10,0,0"
            md:ColorZoneAssist.Mode="PrimaryLight"
            FontSize="14">

            <!--  🟢 1. Savdo tarixi  -->
            <TabItem Header="📊 Savdo tarixi">
                <Grid Margin="8" Background="White">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="90" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <!--  🔍 Filter panel  -->
                    <Grid Grid.Row="0" Margin="10,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <!--  🧾 Filtr bo‘limi  -->
                        <Grid Grid.Column="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <!--  👤 Mijoz  -->
                            <TextBlock
                                Grid.Row="0"
                                Grid.Column="0"
                                Margin="5,0"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Text="Mijoz" />

                            <Border
                                Grid.Row="0"
                                Grid.Column="1"
                                Height="30"
                                VerticalAlignment="Center"
                                BorderBrush="#CCCCCC"
                                BorderThickness="2"
                                CornerRadius="4">
                                <ComboBox
                                    x:Name="cbxCustomer"
                                    Margin="2,0"
                                    Padding="4,2"
                                    VerticalAlignment="Center"
                                    Background="White"
                                    BorderThickness="0"
                                    DisplayMemberPath="Name"
                                    FontSize="14"
                                    IsEditable="True"
                                    ItemsSource="{Binding AvailableCustomers}"
                                    SelectedItem="{Binding SelectedCustomer}" />
                            </Border>


                            <!--  📅 Sana oralig‘i  -->
                            <TextBlock
                                Grid.Row="1"
                                Grid.Column="0"
                                Margin="5,0"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Text="Xisobot davri" />

                            <Grid Grid.Row="1" Grid.Column="1">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>

                                <controls:UserCalendar
                                    x:Name="beginDate"
                                    Grid.Column="0"
                                    Width="110"
                                    Height="30"
                                    Margin="0"
                                    VerticalAlignment="Center"
                                    FontSize="14"
                                    SelectedDate="{Binding BeginDate, Mode=TwoWay}" />
                                <TextBlock
                                    Grid.Column="1"
                                    Width="25"
                                    Margin="2,0"
                                    VerticalAlignment="Center"
                                    FontSize="13"
                                    Text="dan" />
                                <controls:UserCalendar
                                    x:Name="endDate"
                                    Grid.Column="2"
                                    Width="110"
                                    Height="30"
                                    Margin="0,0,2,0"
                                    VerticalAlignment="Center"
                                    FontSize="14"
                                    SelectedDate="{Binding EndDate, Mode=TwoWay}" />
                                <TextBlock
                                    Grid.Column="3"
                                    Width="35"
                                    Margin="0"
                                    VerticalAlignment="Center"
                                    FontSize="13"
                                    Text="gacha" />
                            </Grid>
                        </Grid>

                        <!--  🧩 Mahsulot turi / Nomi  -->
                        <Grid Grid.Column="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <TextBlock
                                Grid.Row="0"
                                Grid.Column="0"
                                Margin="15,0,3,0"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Text="Kodi" />

                            <!--  🟢 Mahsulot turi  -->
                            <Border
                                Grid.Row="0"
                                Grid.Column="1"
                                Height="30"
                                VerticalAlignment="Center"
                                BorderBrush="#CCCCCC"
                                BorderThickness="2"
                                CornerRadius="4">
                                <ComboBox
                                    x:Name="cbxCategory"
                                    Width="180"
                                    Margin="0"
                                    Padding="4,2"
                                    VerticalAlignment="Center"
                                    Background="White"
                                    BorderThickness="0"
                                    DisplayMemberPath="Code"
                                    FontSize="14"
                                    IsEditable="True"
                                    ItemsSource="{Binding AvailableProducts}"
                                    SelectedItem="{Binding SelectedCode}" />
                            </Border>

                            <TextBlock
                                Grid.Row="1"
                                Grid.Column="0"
                                Margin="15,0"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Text="Nomi" />

                            <!--  🟣 Mahsulot nomi  -->
                            <Border
                                Grid.Row="1"
                                Grid.Column="1"
                                Height="30"
                                VerticalAlignment="Center"
                                BorderBrush="#CCCCCC"
                                BorderThickness="2"
                                CornerRadius="4">
                                <ComboBox
                                    x:Name="cbxProductName"
                                    Width="180"
                                    Margin="2,0"
                                    Padding="4,2"
                                    VerticalAlignment="Center"
                                    Background="White"
                                    BorderThickness="0"
                                    DisplayMemberPath="Name"
                                    FontSize="14"
                                    IsEditable="True"
                                    ItemsSource="{Binding AvailableProducts}"
                                    SelectedItem="{Binding SelectedProduct}" />
                            </Border>
                        </Grid>

                        <!--  🔘 Tugmalar  -->
                        <Grid Grid.Column="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button
                                Grid.Row="0"
                                Height="29"
                                Margin="10,2,5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding PreviewCommand}"
                                Content="📄 Ko‘rish"
                                FontSize="13" />
                            <Button
                                Grid.Row="1"
                                Height="29"
                                Margin="10,2,5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding ClearFilterCommand}"
                                Content="🧹 Tozalash"
                                FontSize="13" />
                        </Grid>

                        <Grid Grid.Column="3">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button
                                Grid.Row="0"
                                Height="29"
                                Margin="5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding PrintCommand}"
                                Content="🖨 Pechat"
                                FontSize="13" />
                            <Button
                                Grid.Row="1"
                                Height="29"
                                Margin="5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding ExportToExcelCommand}"
                                Content="📊 Excel"
                                FontSize="13" />
                        </Grid>
                    </Grid>

                    <!--  📋 DataGrid  -->
                    <DataGrid
                        Grid.Row="1"
                        Margin="10,5,10,-5"
                        AlternatingRowBackground="#F5F5F5"
                        AutoGenerateColumns="False"
                        CanUserAddRows="False"
                        CanUserDeleteRows="False"
                        FontSize="14"
                        HeadersVisibility="Column"
                        IsReadOnly="True"
                        ItemsSource="{Binding SaleItems, Mode=TwoWay}"
                        RowHeaderWidth="0"
                        SelectionMode="Single">

                        <!--  🧱 Ustunlar  -->
                        <DataGrid.Columns>
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding Date, StringFormat={}{0:dd.MM.yyyy}}"
                                Header="Sana" />
                            <DataGridTextColumn
                                Width="1.5*"
                                Binding="{Binding Customer}"
                                Header="Mijoz" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding ProductTypeViewModel.Product.Code}"
                                Header="Kodi" />
                            <DataGridTextColumn
                                Width="1.5*"
                                Binding="{Binding ProductTypeViewModel.Product.Name}"
                                Header="Nomi" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding ProductTypeViewModel.Type, StringFormat={}{0:N0}}"
                                Header="O'lcham" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding ProductTypeViewModel.Count, StringFormat={}{0:N0}}"
                                Header="Bir o'lchamdagi ayoq kiyimlar soni" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding BundleCount, StringFormat={}{0:N0}}"
                                Header="O'lcham soni" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding TotalCount, StringFormat={}{0:N0}}"
                                Header="Jami" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding ProductTypeViewModel.Product.UnitMeasure}"
                                Header="O‘lchov birligi" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding UnitPrice, StringFormat={}{0:N2}}"
                                Header="Narxi" />
                            <DataGridTextColumn
                                Width="1.5*"
                                Binding="{Binding Amount, StringFormat={}{0:N2}}"
                                Header="Umumiy summa" />
                        </DataGrid.Columns>
                    </DataGrid>

                </Grid>
            </TabItem>

            <!--  🟠 2. Mahsulotlar qoldig‘i  -->
            <TabItem Header="📦 Hamma mahsulotlar qoldig‘i">
                <Grid Margin="8" Background="White">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="90" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <!--  🔍 Filter panel  -->
                    <Grid Grid.Row="0" Margin="10,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>


                        <!--  🧩 Mahsulot turi / Nomi  -->
                        <Grid Grid.Column="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <TextBlock
                                Grid.Row="0"
                                Grid.Column="0"
                                Margin="15,0,3,0"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Text="Kodi" />

                            <!--  🟢 Mahsulot turi  -->
                            <Border
                                Grid.Row="0"
                                Grid.Column="1"
                                Height="30"
                                VerticalAlignment="Center"
                                BorderBrush="#CCCCCC"
                                BorderThickness="2"
                                CornerRadius="4">
                                <ComboBox
                                    x:Name="cbxCategory7"
                                    Width="180"
                                    Margin="0"
                                    Padding="4,2"
                                    VerticalAlignment="Center"
                                    Background="White"
                                    BorderThickness="0"
                                    DisplayMemberPath="Code"
                                    FontSize="14"
                                    IsEditable="True"
                                    ItemsSource="{Binding AvailableProducts}"
                                    SelectedItem="{Binding SelectedCode}" />
                            </Border>

                            <TextBlock
                                Grid.Row="1"
                                Grid.Column="0"
                                Margin="15,0"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Text="Nomi" />

                            <!--  🟣 Mahsulot nomi  -->
                            <Border
                                Grid.Row="1"
                                Grid.Column="1"
                                Height="30"
                                VerticalAlignment="Center"
                                BorderBrush="#CCCCCC"
                                BorderThickness="2"
                                CornerRadius="4">
                                <ComboBox
                                    x:Name="cbxProductName7"
                                    Width="180"
                                    Margin="2,0"
                                    Padding="4,2"
                                    VerticalAlignment="Center"
                                    Background="White"
                                    BorderThickness="0"
                                    DisplayMemberPath="Name"
                                    FontSize="14"
                                    IsEditable="True"
                                    ItemsSource="{Binding AvailableProducts}"
                                    SelectedItem="{Binding SelectedProduct}" />
                            </Border>
                        </Grid>

                        <!--  🔘 Tugmalar  -->
                        <Grid Grid.Column="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button
                                Grid.Row="0"
                                Height="29"
                                Margin="10,2,5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding PreviewCommand}"
                                Content="📄 Ko‘rish"
                                FontSize="13" />
                            <Button
                                Grid.Row="1"
                                Height="29"
                                Margin="10,2,5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding ClearFilterCommand}"
                                Content="🧹 Tozalash"
                                FontSize="13" />
                        </Grid>

                        <Grid Grid.Column="3">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button
                                Grid.Row="0"
                                Height="29"
                                Margin="5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding PrintCommand}"
                                Content="🖨 Pechat"
                                FontSize="13" />
                            <Button
                                Grid.Row="1"
                                Height="29"
                                Margin="5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding ExportToExcelCommand}"
                                Content="📊 Excel"
                                FontSize="13" />
                        </Grid>
                    </Grid>

                    <!--  📋 DataGrid  -->
                    <DataGrid
                        Grid.Row="1"
                        Margin="10,5,10,0"
                        AlternatingRowBackground="#F5F5F5"
                        AutoGenerateColumns="False"
                        CanUserAddRows="False"
                        CanUserDeleteRows="False"
                        FontSize="14"
                        HeadersVisibility="Column"
                        IsReadOnly="True"
                        ItemsSource="{Binding SaleItems, Mode=TwoWay}"
                        RowHeaderWidth="0"
                        SelectionMode="Single">

                        <!--  🧱 Ustunlar  -->
                        <DataGrid.Columns>
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding ProductTypeViewModel.Product.Code}"
                                Header="Rasm" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding ProductTypeViewModel.Product.Code}"
                                Header="Kodi" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding ProductTypeViewModel.Product.Name}"
                                Header="Nomi" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding ProductTypeViewModel.Type, StringFormat={}{0:N0}}"
                                Header="O'lcham" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding ProductTypeViewModel.Count, StringFormat={}{0:N0}}"
                                Header="Bir o'lchamdagi mahsulotlar soni" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding TotalCount, StringFormat={}{0:N0}}"
                                Header="Tayyor mahsulotlar soni" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding UnitPrice, StringFormat={}{0:N2}}"
                                Header="Ishlab chiqarishdagi mahsulotlar soni" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding UnitPrice, StringFormat={}{0:N2}}"
                                Header="Yarim tayyor mahsulot soni" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding Amount, StringFormat={}{0:N2}}"
                                Header="Jami" />
                        </DataGrid.Columns>
                    </DataGrid>

                </Grid>

            </TabItem>

            <!--  🟠 2. Tayyor mahsulotlar qoldig‘i  -->
            <TabItem Header="📦 Tayyor mahsulotlar qoldig‘i">
                <Grid Margin="8" Background="White">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="90" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <!--  🔍 Filter panel  -->
                    <Grid Grid.Row="0" Margin="10,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>


                        <!--  🧩 Mahsulot turi / Nomi  -->
                        <Grid Grid.Column="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <TextBlock
                                Grid.Row="0"
                                Grid.Column="0"
                                Margin="15,0,3,0"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Text="Kodi" />

                            <!--  🟢 Mahsulot turi  -->
                            <Border
                                Grid.Row="0"
                                Grid.Column="1"
                                Height="30"
                                VerticalAlignment="Center"
                                BorderBrush="#CCCCCC"
                                BorderThickness="2"
                                CornerRadius="4">
                                <ComboBox
                                    x:Name="cbxCategory2"
                                    Width="180"
                                    Margin="0"
                                    Padding="4,2"
                                    VerticalAlignment="Center"
                                    Background="White"
                                    BorderThickness="0"
                                    DisplayMemberPath="Code"
                                    FontSize="14"
                                    IsEditable="True"
                                    ItemsSource="{Binding AvailableProducts}"
                                    SelectedItem="{Binding SelectedCode}" />
                            </Border>

                            <TextBlock
                                Grid.Row="1"
                                Grid.Column="0"
                                Margin="15,0"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Text="Nomi" />

                            <!--  🟣 Mahsulot nomi  -->
                            <Border
                                Grid.Row="1"
                                Grid.Column="1"
                                Height="30"
                                VerticalAlignment="Center"
                                BorderBrush="#CCCCCC"
                                BorderThickness="2"
                                CornerRadius="4">
                                <ComboBox
                                    x:Name="cbxProductName2"
                                    Width="180"
                                    Margin="2,0"
                                    Padding="4,2"
                                    VerticalAlignment="Center"
                                    Background="White"
                                    BorderThickness="0"
                                    DisplayMemberPath="Name"
                                    FontSize="14"
                                    IsEditable="True"
                                    ItemsSource="{Binding AvailableProducts}"
                                    SelectedItem="{Binding SelectedProduct}" />
                            </Border>
                        </Grid>

                        <!--  🔘 Tugmalar  -->
                        <Grid Grid.Column="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button
                                Grid.Row="0"
                                Height="29"
                                Margin="10,2,5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding PreviewCommand}"
                                Content="📄 Ko‘rish"
                                FontSize="13" />
                            <Button
                                Grid.Row="1"
                                Height="29"
                                Margin="10,2,5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding ClearFilterCommand}"
                                Content="🧹 Tozalash"
                                FontSize="13" />
                        </Grid>

                        <Grid Grid.Column="3">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button
                                Grid.Row="0"
                                Height="29"
                                Margin="5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding PrintCommand}"
                                Content="🖨 Pechat"
                                FontSize="13" />
                            <Button
                                Grid.Row="1"
                                Height="29"
                                Margin="5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding ExportToExcelCommand}"
                                Content="📊 Excel"
                                FontSize="13" />
                        </Grid>
                    </Grid>

                    <!--  📋 DataGrid  -->
                    <DataGrid
                        Grid.Row="1"
                        Margin="10,5,10,-5"
                        AlternatingRowBackground="#F5F5F5"
                        AutoGenerateColumns="False"
                        CanUserAddRows="False"
                        CanUserDeleteRows="False"
                        FontSize="14"
                        HeadersVisibility="Column"
                        IsReadOnly="True"
                        ItemsSource="{Binding SaleItems, Mode=TwoWay}"
                        RowHeaderWidth="0"
                        SelectionMode="Single">

                        <!--  🧱 Ustunlar  -->
                        <DataGrid.Columns>
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding ProductTypeViewModel.Product.Code}"
                                Header="Kodi" />
                            <DataGridTextColumn
                                Width="1.5*"
                                Binding="{Binding ProductTypeViewModel.Product.Name}"
                                Header="Nomi" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding ProductTypeViewModel.Type, StringFormat={}{0:N0}}"
                                Header="O'lcham" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding ProductTypeViewModel.Count, StringFormat={}{0:N0}}"
                                Header="Bir o'lchamdagi ayoq kiyimlar soni" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding BundleCount, StringFormat={}{0:N0}}"
                                Header="O'lcham soni" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding ProductTypeViewModel.Product.UnitMeasure}"
                                Header="O‘lchov birligi" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding TotalCount, StringFormat={}{0:N0}}"
                                Header="Jami" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding UnitPrice, StringFormat={}{0:N2}}"
                                Header="Yarim tayyor mahsulot narxi" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding UnitPrice, StringFormat={}{0:N2}}"
                                Header="Bitta mahsulotni ishlab chiqarish uchun ketgan harajatlar" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding UnitPrice, StringFormat={}{0:N2}}"
                                Header="Tayyor mahsulot narxi" />
                            <DataGridTextColumn
                                Width="1.5*"
                                Binding="{Binding Amount, StringFormat={}{0:N2}}"
                                Header="Umumiy summa" />
                        </DataGrid.Columns>
                    </DataGrid>

                </Grid>

            </TabItem>

            <!--  🟡 3. Yarim tayyor mahsulot qoldig‘i  -->
            <TabItem Header="🥘 Yarim tayyor mahsulotlar">
                <Grid Margin="8" Background="White">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="90" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <!--  🔍 Filter panel  -->
                    <Grid Grid.Row="0" Margin="10,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>


                        <!--  🧩 Mahsulot turi / Nomi  -->
                        <Grid Grid.Column="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <TextBlock
                                Grid.Row="0"
                                Grid.Column="0"
                                Margin="15,0,3,0"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Text="Kodi" />

                            <!--  🟢 Mahsulot turi  -->
                            <Border
                                Grid.Row="0"
                                Grid.Column="1"
                                Height="30"
                                VerticalAlignment="Center"
                                BorderBrush="#CCCCCC"
                                BorderThickness="2"
                                CornerRadius="4">
                                <ComboBox
                                    x:Name="cbxCategory1"
                                    Width="180"
                                    Margin="0"
                                    Padding="4,2"
                                    VerticalAlignment="Center"
                                    Background="White"
                                    BorderThickness="0"
                                    DisplayMemberPath="Code"
                                    FontSize="14"
                                    IsEditable="True"
                                    ItemsSource="{Binding AvailableProducts}"
                                    SelectedItem="{Binding SelectedCode}" />
                            </Border>

                            <TextBlock
                                Grid.Row="1"
                                Grid.Column="0"
                                Margin="15,0"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Text="Nomi" />

                            <!--  🟣 Mahsulot nomi  -->
                            <Border
                                Grid.Row="1"
                                Grid.Column="1"
                                Height="30"
                                VerticalAlignment="Center"
                                BorderBrush="#CCCCCC"
                                BorderThickness="2"
                                CornerRadius="4">
                                <ComboBox
                                    x:Name="cbxProductName1"
                                    Width="180"
                                    Margin="2,0"
                                    Padding="4,2"
                                    VerticalAlignment="Center"
                                    Background="White"
                                    BorderThickness="0"
                                    DisplayMemberPath="Name"
                                    FontSize="14"
                                    IsEditable="True"
                                    ItemsSource="{Binding AvailableProducts}"
                                    SelectedItem="{Binding SelectedProduct}" />
                            </Border>
                        </Grid>

                        <!--  🔘 Tugmalar  -->
                        <Grid Grid.Column="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button
                                Grid.Row="0"
                                Height="29"
                                Margin="10,2,5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding PreviewCommand}"
                                Content="📄 Ko‘rish"
                                FontSize="13" />
                            <Button
                                Grid.Row="1"
                                Height="29"
                                Margin="10,2,5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding ClearFilterCommand}"
                                Content="🧹 Tozalash"
                                FontSize="13" />
                        </Grid>

                        <Grid Grid.Column="3">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button
                                Grid.Row="0"
                                Height="29"
                                Margin="5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding PrintCommand}"
                                Content="🖨 Pechat"
                                FontSize="13" />
                            <Button
                                Grid.Row="1"
                                Height="29"
                                Margin="5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding ExportToExcelCommand}"
                                Content="📊 Excel"
                                FontSize="13" />
                        </Grid>
                    </Grid>

                    <!--  📋 DataGrid  -->
                    <DataGrid
                        Grid.Row="1"
                        Margin="10,5,10,-5"
                        AlternatingRowBackground="#F5F5F5"
                        AutoGenerateColumns="False"
                        CanUserAddRows="False"
                        CanUserDeleteRows="False"
                        FontSize="14"
                        HeadersVisibility="Column"
                        IsReadOnly="True"
                        ItemsSource="{Binding SaleItems, Mode=TwoWay}"
                        RowHeaderWidth="0"
                        SelectionMode="Single">

                        <!--  🧱 Ustunlar  -->
                        <DataGrid.Columns>
                            <DataGridTextColumn
                                Width="1.5*"
                                Binding="{Binding ProductTypeViewModel.Product.Name}"
                                Header="Nomi" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding ProductTypeViewModel.Type, StringFormat={}{0:N0}}"
                                Header="O'lcham" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding ProductTypeViewModel.Count, StringFormat={}{0:N0}}"
                                Header="Bir o'lchamdagi ayoq kiyimlar soni" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding BundleCount, StringFormat={}{0:N0}}"
                                Header="O'lcham soni" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding ProductTypeViewModel.Product.UnitMeasure}"
                                Header="O‘lchov birligi" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding TotalCount, StringFormat={}{0:N0}}"
                                Header="Jami" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding UnitPrice, StringFormat={}{0:N2}}"
                                Header="Kelish narxi" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding UnitPrice, StringFormat={}{0:N2}}"
                                Header="Bitta mahsulot uchun ketgan harajatlar(Tomojniy va yo'lkiro harajatlar)" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding UnitPrice, StringFormat={}{0:N2}}"
                                Header="Tannarxi" />
                            <DataGridTextColumn
                                Width="1.5*"
                                Binding="{Binding Amount, StringFormat={}{0:N2}}"
                                Header="Umumiy summa" />
                        </DataGrid.Columns>
                    </DataGrid>

                </Grid>
            </TabItem>

            <!--  🔵 4. Debitor va Kreditor  -->
            <TabItem Header="💰 Debitor va Kreditor">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="80" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="40" />
                    </Grid.RowDefinitions>

                    <!--  🔍 Filter panel  -->
                    <Grid Grid.Row="0" Margin="10,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <!--  🧾 Filtr bo‘limi  -->
                        <!--  👤 Mijoz  -->
                        <Grid Grid.Column="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <TextBlock
                                Grid.Row="0"
                                Grid.Column="0"
                                Margin="5,0"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Text="Mijoz" />
                            <!--  Foreground="{DynamicResource PrimaryTextColor}"  -->
                            <Border
                                Grid.Row="0"
                                Grid.Column="1"
                                Height="30"
                                VerticalAlignment="Center"
                                BorderBrush="#CCCCCC"
                                BorderThickness="2"
                                CornerRadius="4">
                                <ComboBox
                                    x:Name="cbxCustomer4"
                                    Margin="2,0"
                                    Padding="4,2"
                                    VerticalAlignment="Center"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    DisplayMemberPath="Name"
                                    FontSize="14"
                                    IsEditable="True"
                                    ItemsSource="{Binding AvailableCustomers}"
                                    SelectedItem="{Binding SelectedCustomer}" />
                            </Border>
                            <!--  📅 Sana oralig‘i  -->
                            <TextBlock
                                Grid.Row="1"
                                Grid.Column="0"
                                Margin="05,0"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Text="Summa" />
                            <Grid Grid.Row="1" Grid.Column="1">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Border
                                    Grid.Column="0"
                                    Height="30"
                                    Margin="1,0"
                                    VerticalAlignment="Center"
                                    BorderBrush="#CCCCCC"
                                    BorderThickness="2"
                                    CornerRadius="4">

                                    <ComboBox
                                        x:Name="cbxSign"
                                        Grid.Column="0"
                                        Width="50"
                                        Height="30"
                                        Margin="0"
                                        Padding="4,2"
                                        VerticalAlignment="Center"
                                        BorderThickness="0"
                                        FontSize="14"
                                        Foreground="Black"
                                        IsEditable="False"
                                        ItemsSource="{Binding Signs}"
                                        SelectedItem="{Binding Sign}" />
                                </Border>
                                <Border
                                    Grid.Column="1"
                                    Height="30"
                                    Margin="1,0"
                                    VerticalAlignment="Center"
                                    BorderBrush="#CCCCCC"
                                    BorderThickness="2"
                                    CornerRadius="4">

                                    <TextBox
                                        Grid.Column="1"
                                        Width="120"
                                        Margin="0"
                                        Padding="4,2"
                                        VerticalAlignment="Center"
                                        BorderThickness="0"
                                        FontSize="14"
                                        Text="{Binding Amount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                </Border>
                                <CheckBox
                                    Grid.Column="2"
                                    VerticalAlignment="Center"
                                    Content="Barcha qoldiq "
                                    FontSize="14" />
                            </Grid>

                        </Grid>
                        <!--  🔘 Tugmalar  -->
                        <Grid Grid.Column="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button
                                Grid.Row="0"
                                Height="29"
                                Margin="10,2,5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding PreviewCommand}"
                                Content="📄 Ko‘rish"
                                FontSize="13" />
                            <Button
                                Grid.Row="1"
                                Height="29"
                                Margin="10,2,5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding ClearFilterCommand}"
                                Content="🧹 Tozalash"
                                FontSize="13" />
                        </Grid>

                        <Grid Grid.Column="3">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button
                                Grid.Row="0"
                                Height="29"
                                Margin="5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding PrintCommand}"
                                Content="🖨 Pechat"
                                FontSize="13" />
                            <Button
                                Grid.Row="1"
                                Height="29"
                                Margin="5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding ExportToExcelCommand}"
                                Content="📊 Excel"
                                FontSize="13" />
                        </Grid>
                    </Grid>
                    <!--  📋 DataGrid  -->
                    <DataGrid
                        Grid.Row="1"
                        Margin="10,5,10,-5"
                        AlternatingRowBackground="#F5F5F5"
                        AutoGenerateColumns="False"
                        CanUserAddRows="False"
                        CanUserDeleteRows="False"
                        FontSize="14"
                        HeadersVisibility="Column"
                        IsReadOnly="True"
                        ItemsSource="{Binding FilteredDebitorCreditorItems}"
                        RowHeaderWidth="0"
                        SelectionMode="Single">

                        <DataGrid.Columns>
                            <!--  🕓 Sana  -->
                            <DataGridTextColumn
                                Width="3*"
                                Binding="{Binding Customer}"
                                Header="Mijoz">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="TextAlignment" Value="Left" />
                                        <Setter Property="Padding" Value="5,0" />
                                    </Style>
                                </DataGridTextColumn.ElementStyle>

                                <!--  🔹 Header o‘rtada joylashsin  -->
                                <DataGridTextColumn.HeaderStyle>
                                    <Style TargetType="DataGridColumnHeader">
                                        <Setter Property="HorizontalContentAlignment" Value="Center" />
                                    </Style>
                                </DataGridTextColumn.HeaderStyle>
                            </DataGridTextColumn>



                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding Debitor, StringFormat={}{0:N2}}"
                                Header="Debitor">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="TextAlignment" Value="Right" />
                                        <Setter Property="Padding" Value="5,0" />
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                                <DataGridTextColumn.EditingElementStyle>
                                    <Style TargetType="TextBox">
                                        <Setter Property="TextAlignment" Value="Right" />
                                    </Style>
                                </DataGridTextColumn.EditingElementStyle>
                                <DataGridTextColumn.HeaderStyle>
                                    <Style TargetType="DataGridColumnHeader">
                                        <Setter Property="HorizontalContentAlignment" Value="Center" />
                                    </Style>
                                </DataGridTextColumn.HeaderStyle>
                            </DataGridTextColumn>

                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding Creditor, StringFormat={}{0:N2}}"
                                Header="Kreditor">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="TextAlignment" Value="Right" />
                                        <Setter Property="Padding" Value="5,0" />
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                                <DataGridTextColumn.EditingElementStyle>
                                    <Style TargetType="TextBox">
                                        <Setter Property="TextAlignment" Value="Right" />
                                    </Style>
                                </DataGridTextColumn.EditingElementStyle>
                                <DataGridTextColumn.HeaderStyle>
                                    <Style TargetType="DataGridColumnHeader">
                                        <Setter Property="HorizontalContentAlignment" Value="Center" />
                                    </Style>
                                </DataGridTextColumn.HeaderStyle>
                            </DataGridTextColumn>

                        </DataGrid.Columns>
                    </DataGrid>
                    <!--  Jami qatori  -->
                    <Grid Grid.Row="2" Margin="10,5,10,5">
                        <Grid.ColumnDefinitions>
                            <!--  Mijoz ustuni (bo'sh)  -->
                            <ColumnDefinition Width="*" />
                            <!--  Debitor jami  -->
                            <ColumnDefinition Width="*" />
                            <!--  Kreditor jami  -->
                            <ColumnDefinition Width="*" />
                            <!--  Umumiy balans  -->
                        </Grid.ColumnDefinitions>

                        <!--  Debitor jami  -->
                        <Border
                            Grid.Column="0"
                            Padding="5"
                            Background="#F9F9F9"
                            BorderBrush="#DDD"
                            BorderThickness="1,1,0,1">
                            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                <TextBlock
                                    Margin="0,0,10,0"
                                    FontSize="14"
                                    FontWeight="Bold"
                                    Text="Jami debitor:" />
                                <TextBlock
                                    FontSize="14"
                                    FontWeight="Bold"
                                    Foreground="#006400"
                                    Text="{Binding FinalDebitor, StringFormat=N2}" />
                                <!--  Yashil  -->
                            </StackPanel>
                        </Border>

                        <!--  Kreditor jami  -->
                        <Border
                            Grid.Column="1"
                            Padding="5"
                            Background="#F9F9F9"
                            BorderBrush="#DDD"
                            BorderThickness="1,1,0,1">
                            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                <TextBlock
                                    Margin="0,0,10,0"
                                    FontSize="14"
                                    FontWeight="Bold"
                                    Text="Jami kreditor:" />
                                <TextBlock
                                    FontSize="14"
                                    FontWeight="Bold"
                                    Foreground="#DC143C"
                                    Text="{Binding FinalKreditor, StringFormat=N2}" />
                                <!--  Qizil  -->
                            </StackPanel>
                        </Border>

                        <!--  Umumiy balans  -->
                        <Border
                            Grid.Column="2"
                            Padding="5"
                            Background="#E6F3FF"
                            BorderBrush="#007ACC"
                            BorderThickness="1">
                            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                <TextBlock
                                    Margin="0,0,10,0"
                                    FontSize="14"
                                    FontWeight="Bold"
                                    Foreground="#007ACC"
                                    Text="Umumiy balans:" />
                                <TextBlock
                                    FontSize="14"
                                    FontWeight="Bold"
                                    Foreground="{Binding FinalAmount, Converter={StaticResource BalanceToColorConverter}}"
                                    Text="{Binding FinalAmount, StringFormat=N2}" />
                            </StackPanel>
                        </Border>
                    </Grid>
                </Grid>
            </TabItem>

            <!--  🟣 5. Hodimlar balansi  -->
            <TabItem Header="👨‍💼 Hodimlar balansi">
                <Grid Margin="8" Background="White">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="90" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <!--  🔍 Filter panel  -->
                    <Grid Grid.Row="0" Margin="10,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>


                        <!--  🧩 Mahsulot turi / Nomi  -->
                        <Grid Grid.Column="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <TextBlock
                                Grid.Row="0"
                                Grid.Column="0"
                                Margin="15,0,5,0"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Text="Hodim" />

                            <!--  🟢 Mahsulot turi  -->
                            <Border
                                Grid.Row="0"
                                Grid.Column="1"
                                Height="30"
                                VerticalAlignment="Center"
                                BorderBrush="#CCCCCC"
                                BorderThickness="2"
                                CornerRadius="4">
                                <ComboBox
                                    x:Name="cbxCategory5"
                                    Width="250"
                                    Margin="0"
                                    Padding="4,2"
                                    VerticalAlignment="Center"
                                    Background="White"
                                    BorderThickness="0"
                                    DisplayMemberPath="Name"
                                    FontSize="14"
                                    IsEditable="True"
                                    ItemsSource="{Binding AvailableCustomers}"
                                    SelectedItem="{Binding SelectedCustomer}" />
                            </Border>



                        </Grid>

                        <!--  🔘 Tugmalar  -->
                        <Grid Grid.Column="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button
                                Grid.Row="0"
                                Height="29"
                                Margin="10,2,5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding PreviewCommand}"
                                Content="📄 Ko‘rish"
                                FontSize="13" />
                            <Button
                                Grid.Row="1"
                                Height="29"
                                Margin="10,2,5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding ClearFilterCommand}"
                                Content="🧹 Tozalash"
                                FontSize="13" />
                        </Grid>

                        <Grid Grid.Column="3">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button
                                Grid.Row="0"
                                Height="29"
                                Margin="5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding PrintCommand}"
                                Content="🖨 Pechat"
                                FontSize="13" />
                            <Button
                                Grid.Row="1"
                                Height="29"
                                Margin="5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding ExportToExcelCommand}"
                                Content="📊 Excel"
                                FontSize="13" />
                        </Grid>
                    </Grid>

                    <!--  📋 DataGrid  -->
                    <DataGrid
                        Grid.Row="1"
                        Margin="10,5,10,-5"
                        AlternatingRowBackground="#F5F5F5"
                        AutoGenerateColumns="False"
                        CanUserAddRows="False"
                        CanUserDeleteRows="False"
                        FontSize="14"
                        HeadersVisibility="Column"
                        IsReadOnly="True"
                        ItemsSource="{Binding SaleItems, Mode=TwoWay}"
                        RowHeaderWidth="0"
                        SelectionMode="Single">

                        <!--  🧱 Ustunlar  -->
                        <DataGrid.Columns>
                            <DataGridTextColumn
                                Width="1.5*"
                                Binding="{Binding ProductTypeViewModel.Product.Name}"
                                Header="Familiya Ismi Sharifi" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding UnitPrice, StringFormat={}{0:N2}}"
                                Header="Balans" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding UnitPrice, StringFormat={}{0:N0}}"
                                Header="Kelgan kuni" />
                        </DataGrid.Columns>
                    </DataGrid>

                </Grid>

            </TabItem>

            <!--  🔴 6. Mijozlar sotgan mahsulotlar soni  -->
            <TabItem Header="🧾 Mijozlar sotgan mahsulotlar">
                <Grid Margin="8" Background="White">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="90" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <!--  🔍 Filter panel  -->
                    <Grid Grid.Row="0" Margin="10,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <!--  🧾 Filtr bo‘limi  -->
                        <Grid Grid.Column="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <!--  👤 Mijoz  -->
                            <TextBlock
                                Grid.Row="0"
                                Grid.Column="0"
                                Margin="5,0"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Text="Mijoz" />

                            <Border
                                Grid.Row="0"
                                Grid.Column="1"
                                Height="30"
                                VerticalAlignment="Center"
                                BorderBrush="#CCCCCC"
                                BorderThickness="2"
                                CornerRadius="4">
                                <ComboBox
                                    x:Name="cbxCustomer6"
                                    Margin="2,0"
                                    Padding="4,2"
                                    VerticalAlignment="Center"
                                    Background="White"
                                    BorderThickness="0"
                                    DisplayMemberPath="Name"
                                    FontSize="14"
                                    IsEditable="True"
                                    ItemsSource="{Binding AvailableCustomers}"
                                    SelectedItem="{Binding SelectedCustomer}" />
                            </Border>


                            <!--  📅 Sana oralig‘i  -->
                            <TextBlock
                                Grid.Row="1"
                                Grid.Column="0"
                                Margin="5,0"
                                VerticalAlignment="Center"
                                FontSize="13"
                                Text="Xisobot davri" />

                            <Grid Grid.Row="1" Grid.Column="1">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>

                                <controls:UserCalendar
                                    x:Name="beginDate6"
                                    Grid.Column="0"
                                    Width="110"
                                    Height="30"
                                    Margin="0"
                                    VerticalAlignment="Center"
                                    FontSize="14"
                                    SelectedDate="{Binding BeginDate, Mode=TwoWay}" />
                                <TextBlock
                                    Grid.Column="1"
                                    Width="25"
                                    Margin="2,0"
                                    VerticalAlignment="Center"
                                    FontSize="13"
                                    Text="dan" />
                                <controls:UserCalendar
                                    x:Name="endDate6"
                                    Grid.Column="2"
                                    Width="110"
                                    Height="30"
                                    Margin="0,0,2,0"
                                    VerticalAlignment="Center"
                                    FontSize="14"
                                    SelectedDate="{Binding EndDate, Mode=TwoWay}" />
                                <TextBlock
                                    Grid.Column="3"
                                    Width="35"
                                    Margin="0"
                                    VerticalAlignment="Center"
                                    FontSize="13"
                                    Text="gacha" />
                            </Grid>
                        </Grid>


                        <!--  🔘 Tugmalar  -->
                        <Grid Grid.Column="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button
                                Grid.Row="0"
                                Height="29"
                                Margin="10,2,5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding PreviewCommand}"
                                Content="📄 Ko‘rish"
                                FontSize="13" />
                            <Button
                                Grid.Row="1"
                                Height="29"
                                Margin="10,2,5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding ClearFilterCommand}"
                                Content="🧹 Tozalash"
                                FontSize="13" />
                        </Grid>

                        <Grid Grid.Column="3">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button
                                Grid.Row="0"
                                Height="29"
                                Margin="5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding PrintCommand}"
                                Content="🖨 Pechat"
                                FontSize="13" />
                            <Button
                                Grid.Row="1"
                                Height="29"
                                Margin="5,2"
                                Padding="10,3"
                                VerticalAlignment="Center"
                                md:ButtonAssist.CornerRadius="4"
                                Command="{Binding ExportToExcelCommand}"
                                Content="📊 Excel"
                                FontSize="13" />
                        </Grid>
                    </Grid>

                    <!--  📋 DataGrid  -->
                    <DataGrid
                        Grid.Row="1"
                        Margin="10,5,10,-5"
                        AlternatingRowBackground="#F5F5F5"
                        AutoGenerateColumns="False"
                        CanUserAddRows="False"
                        CanUserDeleteRows="False"
                        FontSize="14"
                        HeadersVisibility="Column"
                        IsReadOnly="True"
                        ItemsSource="{Binding SaleItems, Mode=TwoWay}"
                        RowHeaderWidth="0"
                        SelectionMode="Single">

                        <!--  🧱 Ustunlar  -->
                        <DataGrid.Columns>
                            <DataGridTextColumn
                                Width="1.5*"
                                Binding="{Binding Customer}"
                                Header="Mijoz" />
                            <DataGridTextColumn
                                Width="*"
                                Binding="{Binding TotalCount, StringFormat={}{0:N0}}"
                                Header="Sotilgan mahsulotlar soni" />
                        </DataGrid.Columns>
                    </DataGrid>

                </Grid>

            </TabItem>

        </TabControl>
    </Grid>
</Page>
